!function(){"use strict";const e={init:function(){this.lazyLoadImages(),this.preloadCriticalResources(),this.optimizeScrollPerformance(),this.registerServiceWorker()},lazyLoadImages:function(){if(document.querySelectorAll("img:not([loading])").forEach(e=>{e.setAttribute("loading","lazy")}),"IntersectionObserver"in window){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const r=e.target;r.dataset.src&&(r.src=r.dataset.src,r.removeAttribute("data-src")),t.unobserve(r)}})});document.querySelectorAll("img[data-src]").forEach(t=>{e.observe(t)})}},preloadCriticalResources:function(){[{href:"assets/css/main.min.css",as:"style"},{href:"assets/js/main.min.js",as:"script"},{href:"assets/images/logo/Marassi_logo.png",as:"image"}].forEach(e=>{const t=document.createElement("link");t.rel="preload",t.href=e.href,t.as=e.as,"style"===e.as&&(t.onload=function(){this.onload=null,this.rel="stylesheet"}),document.head.appendChild(t)})},optimizeScrollPerformance:function(){let e=!1;function t(){e=!1}window.addEventListener("scroll",function(){e||(requestAnimationFrame(t),e=!0)},{passive:!0})},registerServiceWorker:function(){"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(function(e){}).catch(function(e){})})},measureWebVitals:function(){"PerformanceObserver"in window&&(new PerformanceObserver(e=>{for(const t of e.getEntries());}).observe({entryTypes:["largest-contentful-paint"]}),new PerformanceObserver(e=>{for(const t of e.getEntries());}).observe({entryTypes:["first-input"]}),new PerformanceObserver(e=>{for(const t of e.getEntries())t.hadRecentInput}).observe({entryTypes:["layout-shift"]}))}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){e.init()}):e.init(),window.Performance=e}();